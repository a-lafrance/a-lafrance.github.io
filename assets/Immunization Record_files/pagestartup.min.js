/*! Copyright (c) Epic Systems Corporation 2014-2018 */
$$WP.PageStartup=$$WP.PageStartup||{};(function PageStartup$cloneAjax(){var a=null,f,e;if($$WP._ajaxReal){$$WP.Debug.logError("$.ajax has already been copied. Did this file get included twice?");return}var c=function(){return $$WP&&$$WP._CSRFTokenName&&$$WP._CSRFToken?{tokenName:$$WP._CSRFTokenName,tokenValue:$$WP._CSRFToken}:a},b=function(){var b={},c,a;c=$afe.select("#__CSRFContainer");if(c&&c.length>0){a=c.find("input").first();if(a&&a.length>0){b={tokenName:a.safeAttr("name"),tokenValue:a.val()};$$WP._CSRFTokenName=b.tokenName;$$WP._CSRFToken=b.tokenValue}}return b},d=function(){return c()||b()};$$WP._ajaxReal=$.ajax||jQuery.ajax;$.ajax=function PageStartup$ajax(b,a){var e,c;if(typeof b==="object"){a=b;b=a.url}else a=a||{};a.type=a.type||"GET";e=a.contentType||"";if(a.type.toUpperCase()!=="GET"){a.headers=a.headers||{};c=d();a.headers[c.tokenName]=c.tokenValue}b=$$WP.Utilities.addUrlParameter(b,"noCache",Math.random());return $$WP._ajaxReal(b,a)};$$WP.IsPendingAJAXRequests=false;$$WP.PendingAJAXCallBack=a;$afe.jq(document).ajaxStart(function PageStartup$ajaxStart(){$$WP.IsPendingAJAXRequests=true});$afe.jq(document).ajaxStop(function PageStartup$ajaxStop(){$$WP.IsPendingAJAXRequests=false;if($$WP.PendingAJAXCallBack!==a&&typeof $$WP.PendingAJAXCallBack==="function"){$$WP.PendingAJAXCallBack();$$WP.PendingAJAXCallBack=a}})})();(function PageStartup$cloneShowHide(d){var c="jqHidden",b=true,a="matchColumnHeights",e;if($$WP._showReal&&$$WP._hideReal){$$WP.Debug.logError("$.show and $.hide have already been copied. Did this file get included twice?");return}$$WP._showReal=d.fn.show;$$WP._hideReal=d.fn.hide;e=function PageStartup$supplementCompleteFunction(c){var f="function",e,d,g,h=function PageStartup$callbackShowHide(){e();$$WP.Utilities.UI.MatchColumnHeightsOnHideAndShow&&$afe.jq(window).trigger(a)},i=function PageStartup$callbackShowHide(){$$WP.Utilities.UI.MatchColumnHeightsOnHideAndShow&&$afe.jq(window).trigger(a)};if(c.length===0)return;for(d=0;d<c.length;d++){e=c[d];if(typeof e==="object"){if(typeof e.complete===f)c[d].complete=h;else c[d].complete=i;g=b}else if(typeof e===f){c[d]=h;g=b}}!g&&Array.prototype.push.call(c,i)};d.fn.show=function PageStartup$show(){var d=this,f;if(d.size()>0)if(d.hasClass("hidden"))$$WP.Debug.logError("$.show() called on a hidden element. It still won't be shown - it's hidden. If you want it to ever appear, use the jqHidden class instead of hidden.");else!d.hasClass(c)&&$$WP.Debug.log("$.show() called on an element without the jqHidden class. You should set this class rather than an inline display style.",b);if(arguments.length>0){e(arguments);f=$$WP._showReal.apply(d,arguments)}else{f=$$WP._showReal.apply(d);d.hasClass("cardlist")&&d.trigger("cardLoad");$$WP.Utilities.UI.MatchColumnHeightsOnHideAndShow&&$afe.jq(window).trigger(a)}return f};d.fn.hide=function PageStartup$hide(){var d=this,f;if(d.size()>0)if(d.hasClass("hidden"))$$WP.Debug.logError("$.hide() called on a hidden element. This was a pointless function call.");else!d.hasClass(c)&&$$WP.Debug.log("$.hide() called on an element without the jqHidden class. You should set this class rather than an inline display style.",b);if(arguments.length>0){e(arguments);f=$$WP._hideReal.apply(d,arguments)}else{f=$$WP._hideReal.apply(d);$$WP.Utilities.UI.MatchColumnHeightsOnHideAndShow&&$afe.jq(window).trigger(a)}return f}})(jQuery);$afe.onDocumentReady(function PageStartup$onDomReady(){var d="click",c="body",a=null,b=true,f,e;$$WP.IsEpicAjaxErrorHandlerDisabled!==b&&$afe.jq(document).ajaxError($$WPUtil.defaultAjaxErrorHandler);f=function PS$getMsgDisp(a){var e="margin-right",c="margin-left",g,b,d,h,f,i;d=a.safeAttr("name");if(!d){$$WP.Debug.logError("Input elements require a name in order to associate them with a message display");return $afe.jq()}g=$afe.jq(a.get(0).form);if(g.length===0){$$WP.Debug.logError("Input elements need to be contained within a form in order to associate them with a message display");return $afe.jq()}b=g.find('[data-message-for="'+d+'"]');if(b.length===0){b=$$WP.SimpleTemplates.MessageDisplay(d);a.safeAfter(b)}if(b.get(0).hasAttribute("data-script-generated")&&a.css("display")!=="none"){h=a.position().left-b.position().left;if(typeof a.css(c)!=="undefined")h+=parseInt(a.css(c),10);b.css(c,h);b.css(e,a.css(e));f=a.width();if(a.get(0).type==="checkbox"||a.get(0).type==="radio"){i=g.find('label[for="'+d+'"]');f+=i.width()}f!==0&&b.width(f)}return b};e=function PS$updateMsgDisp(a,e,f){var b="alert",c="invisible",d;if(!e){a.addClass(c);a.removeClass(b);dangerou$.setHtml(a,"&nbsp;")}else{if(f){a.addClass(b);a.empty();a.text(e);d=$$WP.SimpleTemplates.WarningIcon();a.safePrepend(d);d.safeAfter($$WP.SimpleTemplates.ErrorLabel())}else{a.removeClass(b);a.empty();a.text(e)}a.removeClass(c)}};(function PS$setupFDILinkHandling(){var e,f;e=function WP$PageStartup$handleFDILink(j){var i,d,c,b,g,e,h,a,k;a="";k="";i=$afe.jq(j.target);j.preventDefault();d=i.closest("[data-fdi-context]");if(d.length>0){c=d.safeAttr("data-fdi-context");if(c!==""){b=$.parseJSON(c);g=b.fdi;e=b.csn;h=b.ord;delete b.fdi;delete b.csn;delete b.ord;if(g)a=$$WPUtil.addUrlParameter(a,"fdi",encodeURIComponent(g));else return;if(e)a=$$WPUtil.addUrlParameter(a,"csn",encodeURIComponent(e));if(h)a=$$WPUtil.addUrlParameter(a,"ord",encodeURIComponent(h));if(!$.isEmptyObject(b))a=$$WPUtil.addUrlParameter(a,"extra",encodeURIComponent(JSON.stringify(b)))}}getCSRFTokenAsQS(function(b){$.ajax({url:makeLink("Extensibility/Redirection/FdiData"+a),type:"POST",dataType:"json",data:b,success:function(b){f(b,a)}})})};f=function WP$PageStartup$fdiJSONSuccess(e,f){var d,c;d=e.url;c=e.launchmode;if(c===0)c=2;switch(c){case 1:window.location.href=d;break;case 2:openWindow(d,"","",a,b);break;case 3:openWindow(d,"","",a,b,false,b);break;case 4:window.location.href=makeLink("Extensibility/Redirection/Content"+f)}};$afe.select(c).on(d,"a[data-fdi-option]",e);$afe.select(c).on(d,'a[href="#Extensibility_ReportLink"]',e)})();(function PageStartup$setupInputListeners(){var f,h,e,g;h=/<([A-Za-z\/])/gm;f=function PageStartup$sanitizeInput(a){var c="Global",e,f,d;if(a)if(a.which&&(a.which===9||a.which===16||a.which===33||a.which===34||a.which===35||a.which===36||a.which===37||a.which===38||a.which===39||a.which===40))return;e=this.value;f=e.replace(h,"< $1");d=$$WPUtil.RemoveUnsupportedChars(f);if(e.length!==d.length){this.value=d;d!==f&&$$WPUtil.quickPopup(new $$WPComp.ConfirmComponent({callback:function(){return},TitleText:$$WP.Strings.get("UnsupportedCharsPopupTitle",c),ToolbarButtons:[{Text:$$WP.Strings.get("UnsupportedCharsPopupConfirmButton",c)}],Html:$$WP.Strings.get("UnsupportedCharsPopupMessage",c),IsClosable:b}),{Size:$$WP.Containers.Popup.SizeEnum.Small,positioningFunction:$$WPContain.Positions.InsideCentered})}};e=$afe.select(c);g='input:not([data-permissive="true"]):not([type]), input:not([data-permissive="true"])[type="text"], textarea:not([data-permissive="true"])';e.on("keyup change",g,f);e.on("paste",g,function(){setTimeout($.proxy(f,this),300)});e.on(d,"a",function WP$GlobalAnchorListener(e){var b="target",c,d,g,h,f;c=$afe.jq(e.currentTarget).closest("a");d=c.safeAttr("data-redirect")||c.safeAttr("href");if(c.hasClass("disabled")||d==="#"){e.preventDefault();return}if(c.get(0).hasAttribute("onclick")||typeof d!=="string"||d.length===0||d[0]==="#")return;f=c.safeAttr(b);if(c.get(0).hasAttribute(b)&&f!=="_blank"&&f!=="_self")return;g=c.safeAttr(b)==="_blank"||e.ctrlKey;h=c.safeAttr("data-organization");$$WPUtil.TryRedirect(d,a,h,g);e.preventDefault()})})();(function PageStartup$DrivingDirections(){var f=function WP$PageStartup$DrivingDirections$s_initializeFramework(){$afe.select(c).on(d,"[data-driving-directions]",e)},e=function WP$PageStartup$DrivingDirections$s_clickedDrivingDirections(c){var d=$afe.jq(c.currentTarget).safeAttr("data-driving-directions");openWindow(makeLink("Education/DrivingDirections?destination="+encodeURIComponent(d)),a,"",a,b);c.preventDefault()};f()})();(function PS$setActivity(){$afe.select(c).on("input keyup keypress change scroll click dblclick select wheel cut paste touchstart touchend touchmove touchcancel",$$WP.Utilities.SetActivity)})();(function PageStartup$overrideOpenWindow(){var c,d,b;$$WP._windowOpenReal=$.proxy(window.open,window);c=function Page$Startup$overrideOpenWindow$windowOpenOverride(e,d,b,c){return openWindow(e,d,b,a,false,c)};b=function Page$Startup$handleParentCloseEvent(){if(checkIfPopupOpenerClosed()){closeAllWindows();window.close()}};window.open=c;checkIfPopup()&&setInterval(b,1e3)})()})