/*! Copyright (c) Epic Systems Corporation 2009-2018 */
function specialEffects(){var r="textarea",d=true,q="autocomplete",k="printmode",c=false,a,b,h,j,p,n,e,g,l,o,m,f,s,i;if(!document.getElementsByTagName||!document.getElementById)return c;h=window.location.toString();setScannedImageSize();WP.Controls.Menu();if(WP&&WP.DOM&&WP.DOM.Browser&&WP.DOM.Browser.isMobile){i=$afe.select("#menu .home").find("a.selected")[0];if(i){i.onclick=function(){return c};i.href="#"}}if(h.indexOf(k)==-1){try{generateTableEffects()}catch(u){}try{setupTabbedSections()}catch(t){}}!$afe.select(".report .rpt.Universal").length&&resizeLargeImgAndTable();if(typeof loadGraphs==="function")try{loadGraphs()}catch(v){}$afe.select("form").safeAttr(q,"off");$afe.select("input").safeAttr(q,"off");if(h.indexOf(k)==-1&&!window.location.hash&&$afe.select("html.mobile").length==0&&$afe.select("html.shareeverywhere").length==0){j=c;s=function(b,a){while(a&&a!==document.body){if(a.id===b)return d;a=a.parentNode}return c};for(b=0;b<document.forms.length;b++){if(!s("menu",document.forms[b]))for(a=0;a<document.forms[b].length;a++){if(document.forms[b][a].type!="hidden"&&document.forms[b][a].className.indexOf("readonly")==-1&&document.forms[b][a].className.indexOf("hidden")==-1&&document.forms[b][a].className.indexOf("button")==-1&&document.forms[b][a].className.indexOf("radio")==-1&&document.forms[b][a].className.indexOf("noautofocus")==-1&&document.forms[b][a].nodeName.toLowerCase()!="fieldset"&&document.forms[b][a].disabled!=d&&document.forms[b][a].parentNode.style.display!="none"){document.forms[b][a].focus();j=d}if(j)break}if(j)break}if(h.indexOf("reply")>0){p=document.getElementsByTagName(r);p.length>0&&p[0].focus()}}!window.location.hash&&window.setTimeout(function(){window.scroll(0,0)},1);n=document.getElementById("printbar");if(n)n.style.display="block";if(h.indexOf(k)>0){if(document.getElementById("main"))f=document.getElementById("main");else f=document.getElementById("datatile");e=f.getElementsByTagName("a");for(a=0;a<e.length;a++){e[a].href="";e[a].onclick="";e[a].removeAttribute("href");e[a].removeAttribute("onclick");e[a].removeAttribute("title");e[a].removeAttribute("target")}g=f.getElementsByTagName("tr");for(a=0;a<g.length;a++){g[a].onclick="";g[a].removeAttribute("onclick");g[a].removeAttribute("title")}l=f.getElementsByTagName("input");for(a=0;a<l.length;a++)l[a].disabled=d;o=f.getElementsByTagName("select");for(a=0;a<o.length;a++)o[a].disabled=d;m=f.getElementsByTagName(r);for(a=0;a<m.length;a++)m[a].disabled=d}preventBadAnchorJump.hasContentiousCSS=function(){var f,a=0,e,b,g;while(!f&&a<document.styleSheets.length){e=document.styleSheets[a];if(e&&e.href&&e.href.indexOf("inside.css")>0)f=e;a++}if(!f)return c;b=f.cssRules;if(!b)return c;for(a=0;a<b.length;a++)if(b[a].selectorText===".menuontop #main::before"||b[a].selectorText===".menuontop #main:before"){g=b[a];break}if(!g)return c;preventBadAnchorJump.targetRule=g;return d}();preventBadAnchorJump.hasContentiousCSS===d&&preventBadAnchorJump();doTextHighlight();initResizeFunctions();fitProxyTabsToOneRow();setupButtoncheck();$afe.select("#moreTabsTab").hover(function(){moretabsFocus()},function(){moretabsBlur()});$afe.select("#localeswitch ul.dropdown").hover(function(){localesLinkFocus()},function(){localesLinkBlur()})}function matchWrapHeight(){$afe.jq(window).trigger("matchColumnHeights")}function doTextHighlight(){var n="hilitefxid",a=null,j,h,e,k,i,d,m,f,b,c,g,l;j=document.getElementById("hilitefxform");if(j===a)return;i=document.getElementById(n);if(i===a)return;d=i.value;if(typeof d==="undefined"||d===a||d.length===0)return;m=document.getElementById(d);if(m===a)return;h=j.getElementsByTagName("input");if(h===a)return;b=new Array(3);b[0]=document.getElementsByTagName("TD");b[1]=document.getElementsByTagName("DIV");b[2]=document.getElementsByTagName("SPAN");for(c=0;c<b.length;c=c+1)for(g=0;g<b[c].length;g=g+1){l=b[c][g];if(containsClassName(l,"srchbl"))for(f=0;f<h.length;f=f+1){e=h[f];if(e===a)return;if(e.getAttribute("id")===a||e.getAttribute("id").indexOf(n)===-1){k=e.value;k.length>0&&$$WPUtil.highlightNodeText(l,k)}}}}function setupExpandableObject(f,h,g){var a="hover",e,c,b,d;if(typeof f!=="object")return;if(!g&&f.className.indexOf("expandable")<0)return;if(h)e=function(){expandElement(this);return false};else e=function(){expandElementExcl(this);return false};c=f.children;for(b=0;b<c.length;b++)if(c[b].className.indexOf("clickable")>-1){collapseElement(c[b],e);c[b].onmouseover=function(){applyClass(this,a)};c[b].onmouseout=function(){removeClassNames(this,a)};d=WP.DOM.Search.getNext(c[b]);if(d.nodeName.toUpperCase()==="A"){d.onfocus=function(){applyClass(this.parentNode,a)};d.onblur=function(){removeClassNames(this.parentNode,a)}}}}function setupExpandableCollection(c,d){var b,a;if(typeof c!=="string")return;b=document.getElementsByTagName(c);for(a=0;a<b.length;a++)setupExpandableObject(b[a],d)}function expandElement(a){setSlaveElmntDisp(a,true);a.onclick=function(){collapseElement(this,function(){expandElement(this);return false});return false}}function collapseElement(a,b){setSlaveElmntDisp(a,false);a.onclick=b;$afe.jq(window).trigger("matchColumnHeights")}function expandElementExcl(c){var b,a,d;d=function(){expandElementExcl(this);return false};b=c.parentNode.children;for(a=0;a<b.length;a++)b[a].className.indexOf("clickable")>-1&&collapseElement(b[a],d);setSlaveElmntDisp(c,true);c.onclick=function(){collapseElement(this,function(){expandElementExcl(this);return false});return false};$afe.jq(window).trigger("matchColumnHeights")}function setSlaveElmntDisp(h,i){var b,e,g,f,c,d,a;a=h.getAttribute("id");if(a!==null)a=a.substring(5,a.length);b=document.getElementById(a);if(b!==null){e=h.getElementsByTagName("img");g=b.children;if(i){f="en-US/images/rowopen.gif";c=""}else{f="en-US/images/rowclosed.gif";c="none"}b.style.display=c;for(d=0;d<g.length;d++)g[d].style.display=c;e.length>0&&e[0].className.indexOf("icon")>-1&&$afe.jq(e[0]).safeAttr("src",f)}}function setupTabbedSections(){var b=$afe.select(".innertabs .membertab a"),c,a;b.each(function(){var a=$(this),c=a.safeAttr("href").indexOf("#")>=0,b=a.attr("onclick")!==undefined||a.prop("onclick")!==null,d=typeof jQuery!==undefined&&jQuery._data(this,"events").click!==undefined;c&&!(b||d)&&$(this).click(showTabbedSection)});c=document.location.toString();a=c.match("tabbedsec=tab_[A-Za-z0-9_]*");a!==null&&a.length>0&&$afe.select("#"+a[0].split("=")[1]).click();$afe.select(".innertabs .membertab.selected").length===0&&b.first().click()}function showTabbedSection(){var c="selected",d=$afe.jq(this).parents(".membertab").first(),a,b;$afe.select(".innertabs .membertab.selected").removeClass(c);$afe.select(".section[id^='topic_']").addClass("hidden");d.addClass(c);a=d.find("a").safeAttr("id");a=a.substring(4,a.length);b=$afe.select("#"+a);b.removeClass("hidden");b.find(".component").not(".hidden").not(".loaded").each(function(){var b=$afe.jq(this),a=$$WPComp.getInstance(b.safeAttr("data-component-id"));a&&typeof a.refresh==="function"&&a.refresh()});$afe.jq(window).trigger("matchColumnHeights");return false}function setScannedImageSize(){var a,c,b,d;d=700;a=document.getElementById("scan");if(a){c=a.width;if(c>d){b=a.height*d/c;b=b-b%1;c=d;a.style.height=b+"px";a.style.width=c+"px"}}}function adjustLightbox(){var c=document.getElementById("lightbox"),g=document.getElementById("wrap"),a,e,f,d,b;if(!c||!g)return;a=c.clientHeight;for(d=0;d<c.children.length;d++){e=c.children[d];if(a<e.clientHeight)a=e.clientHeight}if(window.innerHeight){if(a>window.innerHeight)return;b=window.pageYOffset+.5*(window.innerHeight-a)}else{if(a>document.documentElement.clientHeight)return;b=document.documentElement.scrollTop+.5*(document.documentElement.clientHeight-a)}f=parseInt(WP.DOM.Read.getStyle(g,"margin-top"),10);b=b-f;if(b<0)b=0;c.style.marginTop=b+"px"}function hideLightbox(){var b=$afe.select("#lightbox, #lightbox_overlay"),a;if(b.length===0)return;b.addClass("hidden");$afe.select("body").removeClass("showLightBox");if(isDataTile()){$afe.select("#content, #main, #sidebar").removeClass("suppressed");setAppropriateHeight()}if(typeof initLightbox.onCloseCallback==="function"){try{initLightbox.onCloseCallback()}catch(d){}try{delete initLightbox.onCloseCallback}catch(c){}}a=$afe.select(".lb_overlay:visible").length;$$WPUtil.UI.PDF&&$$WPUtil.UI.PDF.needIframeShim()&&$$WPUtil.UI.PDF.pageHasEmbeddedPdf()&&a==0&&$$WPUtil.UI.PDF.showPdfs()}function getProxyDisclaimer(a){$$WPUtil.SafeToRedirect(function initLBProxyTabs(b){if(!b)return;initLightbox(a+"&co=true",function focusOnContinue(){document.getElementById("continue").focus()},$$WPUtil.DidNotRedirect)});return false}function initLightbox(c,d,g){if($$WPUtil.isAbsoluteURL(c)===true){console.error("Non-enduser message: Someone tried to execute a lightbox control from outside of MyChart.  Potential phishing attempt.  This code was not executed.");return}initLightbox.onCloseCallback=g||function(){};var b=document.getElementById("lightbox"),e=document.getElementById("lightbox_overlay"),f,a;if(!b||!e){window.location.href=c;return}f=function(h){dangerou$.setHtml(b,h);$afe.jq(b).add($afe.jq(e)).removeClass("hidden").css("display","block");$$WPUtil.UI.PDF&&$$WPUtil.UI.PDF.needIframeShim()&&$$WPUtil.UI.PDF.pageHasEmbeddedPdf()&&$$WPUtil.UI.PDF.hidePdfs();adjustLightbox();if(WP.Events){WP.Events.addListener(window,"resize",function(){a!==null&&window.clearTimeout(a);a=window.setTimeout(adjustLightbox,100)});WP.Events.addListener(window,"scroll",function(){a!==null&&window.clearTimeout(a);a=window.setTimeout(adjustLightbox,100)})}$afe.jq(b).safeAttr("tabindex",0);b.focus();for(var f=b.getElementsByTagName("script"),c=0;c<f.length;c++)if($$WPUtil.isAbsoluteURL(f[c].getAttribute("src"))===false){var g=document.createElement("script");g.type="text/javascript";if(f[c].src)g.src=f[c].src;document.body.appendChild(g)}else console.error("Non-enduser message: Someone tried to include a script from outside of MyChart in the return value of a lightbox.  Potential phishing attempt.  This code was not executed.");WP.Utils.minifyElement($afe.select("#lightbox"));$afe.select(".ghostInput input, .ghostInput select, .ghostInput textarea").trigger("change");typeof d==="function"&&d();setAppropriateHeight()};$.ajax({url:c,success:f,method:"GET",data:{lb:"true"},error:function(){window.location=c}})}function showLightBox(d){var a,b,c;b=document.getElementById("lightbox");c=document.getElementById("lightbox_overlay");dangerou$.setHtml(b,d);c.style.display="block";b.style.display="block";$afe.select("body").addClass("showLightBox");$afe.jq(c).removeClass("hidden");$afe.jq(b).removeClass("hidden");$$WPUtil.UI.PDF&&$$$WPUtil.UI.PDF.needIframeShim()&&$$WPUtil.UI.PDF.pageHasEmbeddedPdf()&&$$WPUtil.UI.PDF.hidePdfs();adjustLightbox();if(WP.Events){WP.Events.addListener(window,"resize",function(){a!==null&&window.clearTimeout(a);a=window.setTimeout(adjustLightbox,100)});WP.Events.addListener(window,"scroll",function(){a!==null&&window.clearTimeout(a);a=window.setTimeout(adjustLightbox,100)})}$afe.jq(b).safeAttr("tabindex",0);b.focus()}function moretabsFocus(){$afe.select("#moretabs").removeClass("mtHide").addClass("mtShow").safeAttr("aria-hidden","false");$afe.select("#moreTabsTab").addClass("hidebar")}function moretabsBlur(){$afe.select("#moretabs").removeClass("mtShow").addClass("mtHide").safeAttr("aria-hidden","true");$afe.select("#moreTabsTab").removeClass("hidebar")}function localesLinkFocus(){$afe.select("#morelocales").removeClass("localeHide").addClass("localeShow").safeAttr("aria-hidden","false")}function localesLinkBlur(){$afe.select("#morelocales").removeClass("localeShow").addClass("localeHide").safeAttr("aria-hidden","true")}if(typeof WP==="undefined")WP={};if(typeof WP.Controls==="undefined")WP.Controls={};var proxyPopup,gotTheMessage=false;function photoIframe(f){var d="none",j="ProxySilhouette.png",a=document.getElementById("iframeproxypicker_"+f),b,i,g,h,c,e,k;h=a.parentElement.parentElement.parentElement.parentElement;k=document.createElement("div");a.parentNode.parentNode.appendChild(k,a.parentNode);b=new WP.Controls.ProgressSpinner(k," ","inline");c=document.getElementById("photoImg_"+f);b.hide();a.writeError=function(e){var d;if(!g){if(e.length<2)return;i=WP.DOM.Create.tag("tr","tableRowMessage");g=WP.DOM.Create.tag("td","tableProxyMessage alert");g.colSpan=4;i.appendChild(g);d=a.parentNode.parentNode.parentNode;getChild(d,0).rowSpan++;if(d.nextSibling)h.insertBefore(i,a.parentNode.parentNode.parentNode.nextSibling);else h.appendChild(i)}dangerou$.setHtml(g,e);if(b.oldDisp)c.style.display=b.oldDisp;b.hide();c.style.display=b.oldDisp||""};e=document.getElementById("photodelete_"+f);e.style.display=c.src.indexOf(j)>0?d:"";WP.Events.addListener(e,"click",function(){var g;if(b.isHidden===false){a.src=a.src;b.hide();c.style.display=b.oldDisp;e.style.display=c.src.indexOf(j)>0?d:"";a.fixTabbing(a);return}c.src="./en-US/images/ProxySilhouette.png";g=document.getElementById("photo_"+f);g.value="";WP.Events.fireEvent(g,"change");e.style.display=d;a.fixTabbing&&a.fixTabbing(a)});a.beforeupload=function(){b.show();b.oldDisp=c.style.display;c.style.display=d;return true};a.viewer={addImage:function(){},transferToForm:function(){}};a.onupload=function(j,k,l,h){var d="showfile.asp?key=",g,i="When you click Save on the Personalize page, this photo will be saved to the medical record and visible to medical staff.";c.style.display=b.oldDisp;b.hide();if(j!==1){a.writeError("Only images may be used as your patient photo.");return}g=document.getElementById("photo_"+f);g.value=d+h;WP.Events.fireEvent(g,"change");c.src=d+h;e.style.display="";a.nextElement=e;if(gotTheMessage===false){gotTheMessage=true;WP.Events.addListener(c,"load",function(){i.length&&window.setTimeout(function(){alert(i)},50)},true)}};if(!proxyPopup){proxyPopup=document.getElementById("popupphotopopup");proxyPopup.parentElement.removeChild(proxyPopup);document.getElementById(h.parentElement.id+"_col0").appendChild(proxyPopup)}}function updateSilhouetteColor(b,e){var a,d=document.getElementById("photoImg_"+e),c=b.nextSibling;a=c.className.match(/color\d/,"");if(a&&a[0])a=a[0];removeClassNames(c,a);applyClass(c,escape(b.value));if(d){removeClassNames(d,a);applyClass(d,escape(b.value))}}function fitProxyTabsToOneRow(){var o="moretabs",f=null,n="moreTabsTab",b=document.getElementById("proxyTabs"),d=document.getElementById(n),p=document.getElementById("configIconTab"),m=WP.DOM.Create.tag,l,k,h,i,j,a,e,c,g;if(containsClassName(document.body,"menuontop")||!b)return;l=parseInt(WP.DOM.Read.getStyle(b,"padding-top"),10);k=parseInt(WP.DOM.Read.getStyle(b,"padding-bottom"),10);h=b.offsetHeight-l-k;i=b.children[0];j=i.offsetHeight+parseInt(WP.DOM.Read.getStyle(i,"margin-top"),10);if(h<=j)return;if(!d){d=m("li","color2",n);if(!p)b.appendChild(d);else b.insertBefore(d,p);a=document.createElement("a");a.href="#";WP.Events.addListener(a,"focus",moretabsFocus);WP.Events.addListener(a,"blur",moretabsBlur);a.appendChild(createImage("photo disabled",f,"ProxySilhouette-More.png","More"));a.appendChild(m("span",f,f,f,"..."));e=m("p","mtHide",o);d.appendChild(a);d.appendChild(e)}else e=document.getElementById(o);c=d.previousSibling;while(h>j){while(c&&c.nodeType===3)c=c.previousSibling;if(!c)break;g=c;c=c.previousSibling;a=g.children[0];if(e.children.length===0)e.appendChild(a);else e.insertBefore(a,e.firstChild);a.className=g.className;WP.Events.addListener(a,"focus",moretabsFocus);WP.Events.addListener(a,"blur",moretabsBlur);b.removeChild(g);h=b.offsetHeight-l-k}}function initResizeFunctions(){var a=null;if(containsClassName(document.documentElement,"staticheight"))return;var f=document.getElementById("main"),e=document.getElementById("defaultColumn"),h=f||e,g=containsClassName(document.body,"tc")||containsClassName(document.body,"accesscheck")||containsClassName(document.body,"oe")||containsClassName(document.body,"oesignup")||containsClassName(document.body,"publicform")||containsClassName(document.body,"stdfile"),i=containsClassName(document.body,"HSQnr"),j=containsClassName(document.documentElement,"mobile"),c,b,d;if(!f&&!e)return;if(WP.Events&&(containsClassName(document.body,"menuontop")||j||g||i)){WP.Events.addListener(window,"resize",function(){if(d===document.documentElement.clientHeight)return;d=document.documentElement.clientHeight;c!==a&&window.clearTimeout(c);c=window.setTimeout(matchWrapHeight,25);if(preventBadAnchorJump.hasContentiousCSS){b!==a&&window.clearTimeout(b);b=window.setTimeout(preventBadAnchorJump,25)}});WP.Events.addListener(window,"orientationchange",function(){c!==a&&window.clearTimeout(c);c=window.setTimeout(matchWrapHeight,25);if(preventBadAnchorJump.hasContentiousCSS){b!==a&&window.clearTimeout(b);b=window.setTimeout(preventBadAnchorJump,25)}});preventBadAnchorJump.hasContentiousCSS&&WP.Events.addListener(h,"scroll",preventBadAnchorJump,25)}}function toggleLayout(){var a="menuontop";if(containsClassName(document.body,a))removeClassNames(document.body,a);else applyClass(document.body,a);document.getElementById("menu")&&WP.Controls.Menu()}function setupActionBar(){var d="keydown",c="openaction",a="actionitem",e=document.getElementById(a),b,g,h,i,f;i=function(d){var e=d||window.event,b=WP.Events.getThis(e);while(b&&!(b.id===a))b=b.parentElement;applyClass(b,c);return WP.Events.cancelEvent(d)};f=function(f){var e=f||window.event,b=WP.Events.getThis(e),g=e.type===d;while(b&&!(b.id===a))b=b.parentElement;removeClassNames(b,c);return WP.Events.cancelEvent(f)};if(e){b=e.getElementsByTagName("A");if(b){g=b[0];h=b[b.length-1];WP.Events.addListener(e,"mouseover",i);WP.Events.addListener(e,"mouseout",f);if(g){WP.Events.addListener(g,"click",i);WP.Events.addListener(g,d,function(b){var a=b||window.event,c=a.keyCode||a.which;c===9&&a.shiftKey===true&&f(b)})}h&&WP.Events.addListener(h,d,function(b){var a=b||window.event,c=a.keyCode||a.which;c===9&&a.shiftKey!==true&&f(b)})}}}var showFlyout=function showFlyout(c){var b,a;b=$afe.select("#flyout");removeClassNames(b[0],"collapsed");if(c.data.trigger==="keyboard"){a=b.find("a.flyoutitem").not(".chosen");a.length>0&&a[0].focus()}},hideFlyout=function hideFlyout(){var a=document.getElementById("flyout");applyClass(a,"collapsed")};function setupMyCondNav(){var a;if(!$afe.select("#flyout"))return;$afe.select("body").on({focus:hideFlyout,click:showFlyout},"#flyoutprompt",{trigger:"keyboard"}).on({mouseleave:hideFlyout,mouseenter:showFlyout},"#flyout, #flyoutprompt",{trigger:"mouse"}).on({focus:hideFlyout},"#innertabs .tab a");a=$afe.select(".innertabs .tab");a&&applyClass(a[a.length-1],"lasttab")}function preventBadAnchorJump(){var g=document.getElementById("main"),f=document.getElementById("defaultColumn"),e=document.getElementById("datatile"),b=g||f||e,d=WP.DOM.Browser.isIE||b.scrollTop>0,c=1020,a;if(!d||!window.location.hash||!b||containsClassName(document.documentElement,"staticheight"))return;a=$afe.select("#blftwrapper").position().top-$afe.jq(b).position().top;if(a>c)a=c;preventBadAnchorJump.targetRule.style.top=a+"px"}function resizeLargeImgAndTable(){var a="large_img",d="className",b="width",f,e,c,g;$afe.select(".report table").each(function(){var g;f=$afe.jq(this).find("img");if(f.length>0){$afe.jq(this).safeAttr("style","Table-layout:fixed");f.each(function(){var f=this;c=$afe.jq(f).parent().width();e=$afe.jq(f).safeAttr(b);if(e>c)if($afe.jq(f).parent().prop(d)!=a){g=$$WP.SimpleTemplates.Div({"class":a});$afe.jq(f).safeWrap(g)}})}});$afe.select(".section#summary table,.section#discharge table,.section#patedu table,.section#instructions table,.report table,body.md_letters .section table").each(function(){var a;c=$afe.jq(this).parent().width();g=$afe.jq(this).safeAttr(b);if(g>c){a=$$WP.SimpleTemplates.Div({"class":"table_wrapper"});$afe.jq(this).safeWrap(a)}});$afe.select(".section#summary img,.section#discharge img,.section#patedu img,.section#instructions img,body.md_letters .section img").each(function(){var f=this,g;c=$afe.jq(f).parent().width();e=$afe.jq(f).safeAttr(b);if(e>c)if($afe.jq(f).parent().prop(d)!=a){g=$$WP.SimpleTemplates.Div({"class":a});$afe.jq(f).safeWrap(g)}});!$afe.select(".section .report .rpt.Universal").length&&$afe.select(".section#discharge div.report").each(function(){fitReportToWidth($afe.jq(this))})}function fitReportToWidth(c){var e="4% 2%",d="scale(",i=c[0];c.safeWrap($$WP.SimpleTemplates.Div());var b=c.parent();c.addClass("shrinkReport").removeClass("report");b.addClass("report shrinkReportParent");var j=i.scrollWidth,g=b.width();if(j>g){var h=i.scrollHeight,f=b.innerHeight(),a=(g/j).toFixed(2)-.04;if(a<.7){a=.7;b.css({"overflow-y":"hidden"})}else b.css({overflow:"hidden"});c.css({display:"inline-table",transform:d+a+")","transform-origin":e,"-webkit-transform":d+a+")","-webkit-transform-origin":e,"-ms-transform":d+a+")","-ms-transform-origin":e});navigator.userAgent.indexOf("MSIE 8")>0&&c.css({filter:"progid:DXImageTransform.Microsoft.Matrix(M11="+a+", M12=0, M21=0, M22="+a+", SizingMethod='auto expand')"});f-=h-h*a;b.css({height:Math.ceil(f)+"px"})}}function showPopup(d,c,b,a){var e=$$WPUtil.quickPopup(new $$WPComp.ConfirmComponent({callback:function(b){var a="#DECLINE";if(!b){$afe.select(a).prop("onclick",null);$afe.select(a).click()}else $afe.select("#lightbox_overlay").css("display","none")},ToolbarButtons:[{Text:b,Class:"otherbutton"},{Text:a,Class:"inlinedelete"}],TitleText:d,Html:c,AffirmButtonIndex:0,forcePrompt:true,IsClosable:true}),{Size:$$WP.Containers.Popup.SizeEnum.SMALL})}function SMSLightbox(l,h,i,j,k){var b=true,a="value",c="[name=orig_sms_on]",e,d,f,g;SMSLightbox._isSMSOn=$afe.select(c).safeAttr(a);if(SMSLightbox._isSMSOn==="1"){e="inlinedelete";if($afe.select("input[name='reqBillTklr']").val()==="1"&&$afe.select("input[name='paperlessSignup']").val()==="1"){f=$afe.select("[name='orig_events']").val();for(d=3;d<6;d++){g=f.indexOf("tklr^"+d);if(g!==-1&&f.charAt(g+8)){SMSLightbox._turnEmailOn=b;h=i;break}}}}else if(SMSLightbox._isSMSOn==="0")e="completeworkflow";var m=$$WPUtil.quickPopup(new $$WPComp.ConfirmComponent({callback:function(h){var d="[name=sms_on]";if(h){var g,f,e;if(SMSLightbox._turnEmailOn){for(e=3;e<6;e++)!$afe.select("#tklr_"+e+"_smtp").prop("checked")&&$afe.select("#tklr_"+e+"_smtp").prop("checked",b);$afe.select(d).safeAttr(a,0);$afe.select("input#submitform").click()}else{if(SMSLightbox._isSMSOn==="1")f=0;else if(SMSLightbox._isSMSOn==="0")f=1;g=$afe.select('#PrefsForm [name="sec_token"]').safeAttr(a);$.ajax({url:makeLink("inside.asp?mode=patprefs&co=true"),type:"post",data:{sec_token:g,SMSFlag:f},error:$$WPUtil.DisplayAjaxError,success:function(k){var i="greyoutbackground",h='td[headers$="col2"]',g="disabled",f='input[id$="sms"]',e=".smsswitchlink",j;if(k){$afe.select(e).remove();j=dangerou$.parseHtml(k).find(e);if(SMSLightbox._isSMSOn==="0"){j.safeInsertAfter($afe.select("table[id^=prefs]"));$afe.select(f).removeAttr(g);$afe.select(h).removeClass(i);$afe.select(d).safeAttr(a,1);$afe.select(c).safeAttr(a,1)}else if(SMSLightbox._isSMSOn==="1"){j.safeInsertAfter($afe.select("table[id^=prefs] thead"));$afe.select(f).prop(g,b);$afe.select(h).addClass(i);$afe.select(d).safeAttr(a,0);$afe.select(c).safeAttr(a,0)}}}})}}},ToolbarButtons:[{Text:j,Class:e},{Text:k,Class:"otherbutton"}],TitleText:l,Html:h,AffirmButtonIndex:0,forcePrompt:b,IsClosable:b}),{Size:$$WP.Containers.Popup.SizeEnum.MEDIUM,HasBackButton:false})}SMSLightbox._isSMSOn=null;SMSLightbox._turnEmailOn=null;function setupButtoncheck(d){var b="aria-checked",a="checked",c;d=d||$afe.select("body");c=d.find("p.buttoncheck");c.find("input.buttoncheck:checked").parent().addClass(a).safeAttr(b,"true");c.find("input.buttoncheck[disabled]").parent().addClass("disabled");c.find("input.buttoncheck").change(a,function(){var c="unchecked",d=$afe.jq(this).parent("p");d.toggleClass(a);if(d.hasClass(a))d.removeClass(c).safeAttr(b,"true");else d.addClass(c).safeAttr(b,"false")})}